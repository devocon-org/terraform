  provisioner "file" {
    source      = "bootstrap.sh"
    destination = "/home/ken/terraform/terraform-aws-instance/bootstrap.sh"
    connection {
      host        = self.public_ip
      user        = "ubuntu"
      private_key = file(var.key_path)
    }
  }


resource "aws_ebs_volume" "application_zone_ec2_ebs_vol" {
  availability_zone = aws_instance.single_ec2.availability_zone_b
  size              = 50
  tags = {
    Name = "application-zone-ec2-ebs-att-private-a"
  }
}

resource "aws_volume_attachment" "application_zone_ec2_ebs_vol_att" {
  device_name  = var.application_zone_ebs_att_disk_name
  volume_id    = aws_ebs_volume.application_zone_ec2_ebs_vol.id
  instance_id  = aws_instance.app_zone_ec2_public_a.id
  force_detach = true
}


Name = "application-zone-ec2-ebs-att-public-a"
Name = "application-zone-ec2-ebs-att-public-b"
Name = "application-zone-ec2-ebs-att-private-a"
Name = "application-zone-ec2-ebs-att-private-b"



variable "key_path" {
  description = "Path to the private key used for SSH access"
  type        = string
}

variable "application_zone_ebs_att_disk_name" {
  type    = string
  default = "/dev/xvdbc"
}


app_zone_ebs_att_disk_name       = /dev/xvdbc 
